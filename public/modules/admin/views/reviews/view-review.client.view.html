<section data-ng-controller="ReviewsController" data-ng-init="findOne()">

	<uib-alert type="{{alerts.type}}" close="alerts.close()" data-ng-show="alerts.visible" class="custom-alert">{{alerts.msg}}</uib-alert>

	<div class="admin-page-header">
		<h1 data-ng-bind="review.job.name"></h1>
	</div>

	<h3>Detalles</h3>
	<ul class="job-detail-list-container">
		<li><strong>Publicado el: </strong>{{review.created | date: 'medium'}}</li>
		<li><strong>Prestador de servicios: </strong>{{review.service_supplier.display_name}}</li>
		<li><strong>Trabajo: </strong>{{review.job.name}}</li>
		<li><strong>Usuario: </strong>{{review.user.displayName}}</li>
		<li><strong>Servicios: </strong><span data-ng-repeat="service in review.services">[{{service.name}}] </span></li>
	</ul>

	<label class="control-label">Ratings</label>
	<div data-ng-repeat="rating in review.ratings">
		{{rating.type.name}}
		<div class="pull-right">
			<uib-rating data-ng-model="rating.rate" max="5" class="review-rating-selector" readonly="true"></uib-rating>{{rating.rate}} Estrellas
		</div>
	</div>

	<br>

	<label class="control-label">Comentario</label>
	<p>{{review.comment}}</p>

	<div class="pull-right">
		<a class="btn btn-primary" ui-sref="admin.editReview({ reviewId: review._id })">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="openDeleteModal();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>

	<script type="text/ng-template" id="deleteReviewModal">
		<div class="modal-header">
			<h3 class="modal-title">Eliminar Rese&#241;a</h3>
		</div>
		<div class="modal-body">
			Est&#225;s seguro de que quieres eliminar la rese&#241;a?
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary" type="button" data-ng-click="ok()">OK</button>
			<button class="btn btn-default" type="button" data-ng-click="cancel()">Cancelar</button>
		</div>
	</script>

</section>
